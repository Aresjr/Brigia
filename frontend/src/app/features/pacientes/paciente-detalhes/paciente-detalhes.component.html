<div class="bg-modal" (click)="fechar()"></div>
<div class="painel-direito">
  <div class="p-4">
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-xl font-semibold">Detalhes do Paciente</h2>
      <button type="button" (click)="fechar()" class="btn btn-sm btn-ghost" aria-label="Fechar">
        <lucide-icon name="x" class="right-0 inline w-6 h-6"/>
      </button>
    </div>

    @if (paciente) {
      <div class="space-y-4">
        <div class="border-b pb-2">
          <p class="text-sm">Nome</p>
          <p class="font-medium">{{paciente.nome}}</p>
        </div>

        <div class="border-b pb-2">
          <p class="text-sm">CPF</p>
          <p class="font-medium">{{paciente.cpf | cpf}}</p>
        </div>

        <div class="border-b pb-2">
          <p class="text-sm">Data de Nascimento</p>
          <p class="font-medium">{{paciente.dataNascimento | date:'dd/MM/yyyy'}}</p>
        </div>

        <div class="border-b pb-2">
          <p class="text-sm">Sexo</p>
          <p class="font-medium">{{paciente.sexo | sexo}}</p>
        </div>

        <div class="border-b pb-2">
          <p class="text-sm">Celular</p>
          <p class="font-medium">{{paciente.celular | celular}}</p>
        </div>

        <div class="border-b pb-2">
          <p class="text-sm">Endereço</p>
          <p class="font-medium">
            {{paciente.rua}}, {{paciente.complemento}}
            <br>{{paciente.bairro}}
            <br>{{paciente.cidade}} - {{paciente.uf}}
            <br>CEP: {{paciente.cep | cep}}
          </p>
        </div>

        <div class="border-b pb-2">
          <p class="text-sm">Convênio</p>
          <p class="font-medium">{{paciente.convenio?.nome}}</p>
        </div>

        <div class="border-b pb-2">
          <p class="text-sm">Empresa</p>
          <p class="font-medium">{{paciente.empresa?.nome}}</p>
        </div>

        @if (paciente.ultimaConsulta) {
          <div class="border-b pb-2">
            <p class="text-sm">Última Consulta</p>
            <p class="font-medium">{{paciente.ultimaConsulta | date:'dd/MM/yyyy'}}</p>
          </div>
        }

        @if (paciente.proximaConsulta) {
          <div class="border-b pb-2">
            <p class="text-sm">Próxima Consulta</p>
            <p class="font-medium">{{paciente.proximaConsulta | date:'dd/MM/yyyy'}}</p>
          </div>
        }

        <div class="border-b pb-2">
          <p class="text-sm">Email</p>
          <p class="font-medium">{{paciente.email || '-'}}</p>
        </div>

      </div>

      <div class="flex justify-end gap-3 mt-4">
        <button class="btn btn-ghost btn-sm" (click)="fechar()" >
          Fechar
        </button>
        <button class="btn btn-primary btn-sm" (click)="criarAgendamento(paciente.id)" >
          Criar Agendamento
        </button>
      </div>
    }
  </div>
</div>
